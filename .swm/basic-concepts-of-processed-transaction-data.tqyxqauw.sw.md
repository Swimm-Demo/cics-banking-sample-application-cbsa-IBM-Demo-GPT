---
title: Basic Concepts of Processed Transaction Data
---
# Overview

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class represents processed transaction data within the application. It includes various fields and constants that define the structure and attributes of a transaction, such as transaction identifiers, dates, times, types, and descriptions. The class also provides methods to check the type of transaction, such as whether it is a debit, credit, or transfer.

<SwmSnippet path="/src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" line="12">

---

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class is initialized with a <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="15:5:5" line-data="	protected static CobolDatatypeFactory factory = new CobolDatatypeFactory();">`CobolDatatypeFactory`</SwmToken> to handle COBOL data types. This setup ensures that COBOL data structures are correctly managed within the Java environment.

```java
// Generated by IBM Record Generator for Java V3.0.2 Build 20221206-1121 on: Tue Feb 14 07:30:53 CST 2023

public class PROCTRAN {
	protected static CobolDatatypeFactory factory = new CobolDatatypeFactory();
	static { factory.setStringTrimDefault(false); } 
```

---

</SwmSnippet>

# Proctran Fields

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class contains various fields that represent different attributes of a transaction. These fields include transaction ID, date, time, type, and description. Each field is defined using the <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="15:5:5" line-data="	protected static CobolDatatypeFactory factory = new CobolDatatypeFactory();">`CobolDatatypeFactory`</SwmToken> to ensure compatibility with COBOL data types.

<SwmSnippet path="/src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" line="31">

---

The fields in the <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class are defined using the <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="15:5:5" line-data="	protected static CobolDatatypeFactory factory = new CobolDatatypeFactory();">`CobolDatatypeFactory`</SwmToken>. For example, <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="36:9:9" line-data="	protected static final StringField PROC_TRAN_EYE_CATCHER = factory.getStringField(4);">`PROC_TRAN_EYE_CATCHER`</SwmToken> is a string field of length 4, and <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="40:9:9" line-data="	public static final String PROC_TRAN_VALID = &quot;PRTR&quot;;">`PROC_TRAN_VALID`</SwmToken> is a constant string with the value 'PRTR'.

```java
	public static final int PROC_TRAN_DATA_LEN = 99; 
	public static final int PROC_TRAN_DATA_OFFSET = factory.getOffset();

	/** <pre>
	        05 PROC-TRAN-EYE-CATCHER        PIC X(4). </pre> */
	protected static final StringField PROC_TRAN_EYE_CATCHER = factory.getStringField(4);

	/** <pre>
	        88 PROC-TRAN-VALID VALUE 'PRTR'. </pre> */
	public static final String PROC_TRAN_VALID = "PRTR";

	/** <pre>
	        05 PROC-TRAN-LOGICAL-DELETE-AREA REDEFINES
	           PROC-TRAN-EYE-CATCHER. </pre> */
	static { factory.pushOffset(); } 
	static { factory.setOffset(PROC_TRAN_EYE_CATCHER.getOffset()); } 
	public static final int PROC_TRAN_LOGICAL_DELETE_AREA_LEN = 4; 
	public static final int PROC_TRAN_LOGICAL_DELETE_AREA_OFFSET = factory.getOffset();

	/** <pre>
	           07 PROC-TRAN-LOGICAL-DELETE-FLAG PIC X. </pre> */
```

---

</SwmSnippet>

# Proctran Methods

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class includes several methods to check the type of transaction. These methods include <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="636:5:5" line-data="	public boolean isProcTyDebit() {">`isProcTyDebit`</SwmToken>, <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="640:5:5" line-data="	public boolean isProcTyWebCreateAccount() {">`isProcTyWebCreateAccount`</SwmToken>, <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="644:5:5" line-data="	public boolean isProcTyWebCreateCustomer() {">`isProcTyWebCreateCustomer`</SwmToken>, <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="648:5:5" line-data="	public boolean isProcTyWebDeleteAccount() {">`isProcTyWebDeleteAccount`</SwmToken>, and <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="652:5:5" line-data="	public boolean isProcTyWebDeleteCustomer() {">`isProcTyWebDeleteCustomer`</SwmToken>. Each method compares the transaction type with predefined constants to determine the type of transaction.

<SwmSnippet path="/src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" line="636">

---

The methods in the <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class, such as <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="636:5:5" line-data="	public boolean isProcTyDebit() {">`isProcTyDebit`</SwmToken>, <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="640:5:5" line-data="	public boolean isProcTyWebCreateAccount() {">`isProcTyWebCreateAccount`</SwmToken>, and <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="652:5:5" line-data="	public boolean isProcTyWebDeleteCustomer() {">`isProcTyWebDeleteCustomer`</SwmToken>, check the transaction type by comparing it with predefined constants.

```java
	public boolean isProcTyDebit() {
		return getProcTranType().equals(PROC_TY_DEBIT);
	}

	public boolean isProcTyWebCreateAccount() {
		return getProcTranType().equals(PROC_TY_WEB_CREATE_ACCOUNT);
	}

	public boolean isProcTyWebCreateCustomer() {
		return getProcTranType().equals(PROC_TY_WEB_CREATE_CUSTOMER);
	}

	public boolean isProcTyWebDeleteAccount() {
		return getProcTranType().equals(PROC_TY_WEB_DELETE_ACCOUNT);
	}

	public boolean isProcTyWebDeleteCustomer() {
		return getProcTranType().equals(PROC_TY_WEB_DELETE_CUSTOMER);
	}
```

---

</SwmSnippet>

# Usage in <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="39:4:4" line-data="public class ProcessedTransactionResource">`ProcessedTransactionResource`</SwmToken>

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class is used in the <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="39:4:4" line-data="public class ProcessedTransactionResource">`ProcessedTransactionResource`</SwmToken> class to compare transaction types. This usage ensures that the correct transaction type is identified and processed accordingly.

<SwmSnippet path="/src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" line="187">

---

In the <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="39:4:4" line-data="public class ProcessedTransactionResource">`ProcessedTransactionResource`</SwmToken> class, the <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class is used to compare transaction types and process them accordingly. For example, if the transaction type is <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="188:6:6" line-data="				.compareTo(PROCTRAN.PROC_TY_TRANSFER) == 0)">`PROC_TY_TRANSFER`</SwmToken>, the target account number and sort code are added to the <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="190:1:1" line-data="			proctran.put(JSON_TARGET_ACCOUNT,">`proctran`</SwmToken> object.

```java
		if (processedTransaction.getType()
				.compareTo(PROCTRAN.PROC_TY_TRANSFER) == 0)
		{
			proctran.put(JSON_TARGET_ACCOUNT,
					processedTransaction.getTargetAccountNumber());
			proctran.put(JSON_TARGET_SORT_CODE,
					processedTransaction.getTargetSortcode());
		}
		return proctran;
	}


	private JSONObject processDeleteCreateCustomer(JSONObject proctran,
			ProcessedTransaction processedTransaction, DateFormat myDateFormat)
	{
		// Deal with create account and delete customer
		if (processedTransaction.getType()
				.compareTo(PROCTRAN.PROC_TY_BRANCH_DELETE_CUSTOMER) == 0
				|| processedTransaction.getType()
						.compareTo(PROCTRAN.PROC_TY_WEB_DELETE_CUSTOMER) == 0
				|| (processedTransaction.getType()
```

---

</SwmSnippet>

# Usage in COBOL Programs

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class is also used in COBOL programs, such as <SwmPath>[src/base/cobol_src/DELACC.cbl](src/base/cobol_src/DELACC.cbl)</SwmPath>, to define host variables for <SwmToken path="src/base/cobol_src/DELACC.cbl" pos="69:5:5" line-data="      * PROCTRAN DB2 copybook">`DB2`</SwmToken>. This integration allows COBOL programs to interact with the processed transaction data managed by the <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class.

<SwmSnippet path="/src/base/cobol_src/DELACC.cbl" line="69">

---

In the COBOL program <SwmPath>[src/base/cobol_src/DELACC.cbl](src/base/cobol_src/DELACC.cbl)</SwmPath>, the <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class is used to define host variables for <SwmToken path="src/base/cobol_src/DELACC.cbl" pos="69:5:5" line-data="      * PROCTRAN DB2 copybook">`DB2`</SwmToken>. This allows the COBOL program to interact with the processed transaction data.

```cobol
      * PROCTRAN DB2 copybook
           EXEC SQL
              INCLUDE PROCDB2
           END-EXEC.

      * PROCTRAN host variables for DB2
       01 HOST-PROCTRAN-ROW.
           03 HV-PROCTRAN-EYECATCHER    PIC X(4).
           03 HV-PROCTRAN-SORT-CODE     PIC X(6).
           03 HV-PROCTRAN-ACC-NUMBER    PIC X(8).
```

---

</SwmSnippet>

# Main Functions

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/api/json/ProcessedTransactionResource.java" pos="134:2:2" line-data="					&quot;Proctran DB2 table not accessible. Please contact your system administrator.&quot;);">`Proctran`</SwmToken> class includes several main functions, such as <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="601:5:5" line-data="	public String getProcTranType() {">`getProcTranType`</SwmToken> and <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="636:5:5" line-data="	public boolean isProcTyDebit() {">`isProcTyDebit`</SwmToken>. These functions are essential for retrieving and checking the transaction type.

## <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="601:5:5" line-data="	public String getProcTranType() {">`getProcTranType`</SwmToken>

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="601:5:5" line-data="	public String getProcTranType() {">`getProcTranType`</SwmToken> function retrieves the transaction type from the byte buffer. It checks if the transaction type is already set; if not, it fetches it from the buffer and sets it.

<SwmSnippet path="/src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" line="601">

---

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="601:5:5" line-data="	public String getProcTranType() {">`getProcTranType`</SwmToken> function retrieves the transaction type from the byte buffer. If the transaction type is not already set, it fetches it from the buffer and sets it.

```java
	public String getProcTranType() {
		if (procTranType == null) {
			procTranType = PROC_TRAN_TYPE.getString(byteBuffer);
		}
		return procTranType;
	}
```

---

</SwmSnippet>

## <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="636:5:5" line-data="	public boolean isProcTyDebit() {">`isProcTyDebit`</SwmToken>

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="636:5:5" line-data="	public boolean isProcTyDebit() {">`isProcTyDebit`</SwmToken> function checks if the transaction type is a debit. It calls <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="601:5:5" line-data="	public String getProcTranType() {">`getProcTranType`</SwmToken> and compares the result with the constant <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="637:9:9" line-data="		return getProcTranType().equals(PROC_TY_DEBIT);">`PROC_TY_DEBIT`</SwmToken>.

<SwmSnippet path="/src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" line="636">

---

The <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="636:5:5" line-data="	public boolean isProcTyDebit() {">`isProcTyDebit`</SwmToken> function checks if the transaction type is a debit by calling <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="637:3:3" line-data="		return getProcTranType().equals(PROC_TY_DEBIT);">`getProcTranType`</SwmToken> and comparing the result with the constant <SwmToken path="src/webui/src/main/java/com/ibm/cics/cip/bankliberty/datainterfaces/PROCTRAN.java" pos="637:9:9" line-data="		return getProcTranType().equals(PROC_TY_DEBIT);">`PROC_TY_DEBIT`</SwmToken>.

```java
	public boolean isProcTyDebit() {
		return getProcTranType().equals(PROC_TY_DEBIT);
	}
```

---

</SwmSnippet>

&nbsp;

*This is an auto-generated document by Swimm 🌊 and has not yet been verified by a human*

<SwmMeta version="3.0.0" repo-id="Z2l0aHViJTNBJTNBY2ljcy1iYW5raW5nLXNhbXBsZS1hcHBsaWNhdGlvbi1jYnNhLUlCTS1EZW1vLUdQVCUzQSUzQVN3aW1tLURlbW8=" repo-name="cics-banking-sample-application-cbsa-IBM-Demo-GPT"><sup>Powered by [Swimm](/)</sup></SwmMeta>
